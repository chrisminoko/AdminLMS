@model List<BackEnd.Models.OnlineShop.Cart_Item>

@{
    ViewBag.Title = "Shopping Cart";
    Layout = "~/Views/Shared/_LayoutShop.cshtml";
}
<br />
<br />
<br />
<br />
<div class="container">
    <h2 class="title text-center">@ViewBag.Title</h2>
    <div class="row">

        @using (Html.BeginForm())
        {
            <table class="table">
                <tr style="background: #f3f3f3;">
                    <th hidden="hidden"></th>
                    <th>Picture</th>
                    <th>
                        Name
                    </th>
                    <th>
                        Availability
                    </th>
                    <th>
                        Quantity
                    </th>
                    <th>
                        Price
                    </th>
                    <th></th>
                </tr>

                @for (int item = 0; item < Model.Count(); item++)
                {
                    <tr>
                        <td hidden="hidden">
                            @Html.EditorFor(modelItem => Model[item].cart_item_id)
                        </td>
                        <td>
                            @*@if (Model[item].Item.Picture != null)
                                {
                                 var base64 = Convert.ToBase64String(Model[item].Item.Picture);
                                 var imgSrc = string.Format("Models:image/gif;base64,{0}", base64);
                                     <img src="@imgSrc" width="60" height="70" />
                                 }*@
                            <img src="data:image/png;base64,@Convert.ToBase64String(Model[item].Item.Picture, 0, Model[item].Item.Picture.Length)" style="width: 40px; height: 40px" alt="" />
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => Model[item].Item.Name)
                        </td>
                        <th>
                            @Model[item].Item.QuantityInStock in stock
                        </th>
                        <td>
                            @Html.EditorFor(modelItem => Model[item].quantity, new { htmlAttributes = new { @class = "form-control", @style = "width:100px" } })
                        </td>
                        <th>
                            @Model[item].price.ToString("R 0.00")
                        </th>
                        <td>
                            <a href="@Url.Action("remove_from_cart", "Shopping", new {id = Model[item].cart_item_id})" class="btn btn-default"><i class="fa fa-times"></i> Remove</a>
                        </td>
                    </tr>
                }
                <tr>
                    <td hidden="hidden"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>
                        Total:<b> @ViewBag.TotalQTY </b>
                        @if (Model.Count == 0)
                        {
                            <input type="submit" value="Update" class="btn btn-default disabled" />
                        }
                        else
                        {
                            <input type="submit" value="Update" class="btn btn-default" />
                        }
                    </td>
                    <th>
                        @ViewBag.Total.ToString("R 0.00")
                    </th>
                    <td></td>
                </tr>
                <tr>
                    <td hidden="hidden"></td>
                    <td></td>
                    <td></td>
                    <td>
                        <a href="@Url.Action("Index", "Shopping")" class="btn btn-default"><i class="fa fa-arrow-left"></i> Back to shopping</a>
                    </td>
                    <th>
                        <a href="@Url.Action("Checkout", "Shopping")" class="btn btn-success"><i class="fa fa-lock"></i> Checkout</a>
                    </th>
                    <td></td>
                </tr>
            </table>

        }
    </div>
</div>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />



<section class="flat-row mail-chimp">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="text">
                    <h3>Sign up for Send Newsletter</h3>
                </div>
            </div>
            <div class="col-md-8">
                <div class="subscribe clearfix">
                    <form action="#" method="post" accept-charset="utf-8" id="subscribe-form">
                        <div class="subscribe-content">
                            <div class="input">
                                <input type="email" name="subscribe-email" placeholder="Your Email">
                            </div>
                            <div class="button">
                                <button type="button">SUBCRIBE</button>
                            </div>
                        </div>
                    </form>
                    <ul class="flat-social">
                        <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="#"><i class="fa fa-google"></i></a></li>
                        <li><a href="#"><i class="fa fa-behance"></i></a></li>
                        <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                    </ul><!-- /.flat-social -->
                </div><!-- /.subscribe -->
            </div>
        </div>
    </div>
</section><!-- /.mail-chimp -->
<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-md-3">
                <div class="widget widget-link">
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Online Store</a></li>
                        <li><a href="">Contact Us</a></li>
                    </ul>
                </div><!-- /.widget -->
            </div><!-- /.col-md-3 -->
            <div class="col-sm-6 col-md-3">
                <div class="widget widget-link link-login">
                    <ul>
                        <li><a href="#">Login/ Register</a></li>
                        <li><a href="#">Your Cart</a></li>
                        <li><a href="#">Your checkout</a></li>
                    </ul>
                </div><!-- /.widget -->
            </div><!-- /.col-md-3 -->
            <div class="col-sm-6 col-md-3">
                <div class="widget widget-link link-faq">
                    <ul>
                        <li><a href="#">Term of service</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Returns</a></li>
                    </ul>
                </div><!-- /.widget -->
            </div><!-- /.col-md-3 -->
            <div class="col-sm-6 col-md-3">
                <div class="widget widget-brand">
                    <div class="logo logo-footer">
                        <a href=""><img src="~/ShopLayoutAsset/images/logo%402x.png" alt="image" width="107" height="24"></a>
                    </div>
                    <ul class="flat-contact">
                        <li class="address">112 Kingdom, NA 12, New York</li>
                        <li class="phone">+12 345 678 910</li>
                        <li class="email">infor.deercreative@gmail.com</li>
                    </ul><!-- /.flat-contact -->
                </div><!-- /.widget -->
            </div><!-- /.col-md-3 -->
        </div><!-- /.row -->
    </div><!-- /.container -->
</footer><!-- /.footer -->

<div class="footer-bottom">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <p class="copyright text-center">Copyright  <a href="#"></a></p>
            </div>
        </div>
    </div>
</div>
</div>